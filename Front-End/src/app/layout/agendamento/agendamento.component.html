
<div class="container my-1 border rounded p-5 ">
    <div class="col-lg-12 col-sm-12">
        <h3>Agendamento
            <div class="float-right">
                <button class="btn" (click)="gotoCredenciado()"><img [src]="urlIcoVoltar"></button>
                <span class="pr-2">{{credenciado}}</span>
        </div></h3>
        <hr>
    </div>
    <!-- Campos para pesquisa de Agendamentos possíveis -->
    <div class="col-lg-12 col-sm-12">
            <form>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="find-especialidades">Especialidade</label>
                            <input [(ngModel)]="especialidade" 
                                  name="nomeEspecialidade" id="find-especialidades" 
                                  placeholder="Escreva a especialidade que deseja..." 
                                  aria-label="Escreva a especialidade que deseja..."
                                  type="text" class="form-control" />
                            
                        </div>
                        <div class="form-group col-md-2">
                            <!-- De -->
                            <label for="in-data">De</label>
                            <input type="text" mask="d0/M0/0000" [specialCharacters]="[ '/' ]" dropSpecialCharacters="true"
                             [showMaskTyped]="true"  class="form-control" [(ngModel)]="dataDe" name="inData" id="in-data"/>
                             
                        </div>
                        <div class="form-group col-md-2">
                            <!-- Até -->
                             <label for="in-data">Até </label>
                            <input type="text" mask="d0/M0/0000" [specialCharacters]="[ '/' ]" dropSpecialCharacters="true"
                             [showMaskTyped]="true"  class="form-control" [(ngModel)]="dataAte" name="inData" id="in-data"/>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="in-data">Horario</label>
                            <input type="text" mask="h0:m0" [specialCharacters]="[ ':' ]" dropSpecialCharacters="true"
                                [showMaskTyped]="true"  class="form-control" [(ngModel)]="horario" name="inData" id="in-data"/>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="find-medico" >Medico</label>
                            <input id="find-medico" 
                            [(ngModel)]="medico"
                            class="form-control"       
                            name="medico"  
                            placeholder="Escreva o nome do médico que deseja..." 
                            aria-label="Escreva o nome do médico que deseja..."/>
                        </div>
                    </div>        
                </form>
    </div>

    <!-- Tabela juntamente com a função de agendar. -->
    <div class="col-lg-12 col-sm-12">
    <table class="table overflow-auto">
        <thead>
            <tr>
                <th scope="col" *ngFor="let elem of cabecalho">
                    {{elem}}
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let agendamento of agendamentos 
                    | filtroAgendamento : medico 
                    | filtroAgendamento : especialidade
                    | filtroAgendamento : dataDe
                    | filtroAgendamento : dataAte
                    | filtroAgendamento : horario
                    | paginate: { 
                        id: 'paginator-agendamentos',
                        itemsPerPage: qtdItens,
                        currentPage: p,
                        totalItems: total} 
                     ">
                <td>
                    {{agendamento.data}}
                </td>
                <td>
                    {{agendamento.horaInicio}}
                </td>
                <td>
                    {{agendamento.especialidade}}
                </td>
                <td>
                    {{agendamento.medico}}
                </td>
                <td>
                    <button class="btn btn-primary" (click)="agendar(agendamento)">
                        Agendar
                    </button>
                </td>
            </tr>
        </tbody>
        </table>
        <pagination-controls  class="text-center"
                                (pageChange)="p = $event" previousLabel="" nextLabel=""
                                id="paginator-agendamentos"
                                maxSize="3"
                                directionLinks="true"
                                autoHide="true"
                                responsive="true"
                                screenReaderPaginationLabel="Paginação"
                                screenReaderPageLabel="Pagina"
                                screenReaderCurrentLabel="Você está na pagina."
        ></pagination-controls>
                
    </div>
</div>